

def run_day(filename) -> int:
    problems = []

    with open(filename, 'r') as file:
        lines = file.readlines()
        lines = [line.strip() for line in lines]

    for line in lines:
        split = line.split(" ")
        problems.append((split[0][:-1], split[1:]))

    graph = {node: paths for node, paths in problems}  # node -> next nodes

    def n_paths_to_end(start):
        if start == "out":
            return 1
        return sum([n_paths_to_end(next) for next in graph[start]])

    return n_paths_to_end("you")


if __name__ == "__main__":

    test = run_day("day_11/testinput.txt")
    print(f"test output: {test}")
    if test == 5:
        print("Running real input")
        real = run_day("day_11/input.txt")
        print(f"real output: {real}")
